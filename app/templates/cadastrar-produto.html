{% extends "template.html" %}

{% load static %}

{% block style %} <link rel="stylesheet" href="{% static '_forms.css' %}"> {% endblock %}

{% block titulo %}
    Cadastrar Produto
{% endblock %}

{% block conteudo %}
    <h1>Novo Produto</h1>
    <hr>

    <form class="form" method="post" enctype="multipart/form-data">
        {% csrf_token %}

        {{ formProduto.as_p }} 
        <!-- esse as p provavelmente é para dizer que cada elemento é a 
        tag de paragrafo que o Django forms cria -->
        <button type="submit" class="form-button">
            Cadastrar
        </button>

    </form>
    <script>
        // Código JavaScript para exibir as mensagens como alertas
        document.addEventListener('DOMContentLoaded', function() {
            const messageList = document.querySelector('.messages');

            if (messageList) {
                const messageItems = messageList.querySelectorAll('li');

                messageItems.forEach(item => {
                    // Pega o texto da mensagem
                    const messageText = item.textContent.trim();
                    // Exibe o alerta
                    alert(messageText);
                });
            }
        });
    </script>
{% endblock %}